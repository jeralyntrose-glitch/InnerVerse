# üîí SURGICAL SPEC: IMPORT SEASON 20 - TYPING FAMOUS PEOPLE

**OBJECTIVE: Import all 64 Season 20 videos with proper YouTube data to Supplementary Library**

**PARSED & READY: season_20_import.csv (64 lessons with YouTube URLs)**

---

## üìä WHAT WE HAVE

**File:** `/home/claude/season_20_import.csv`  
**Lessons:** 64 videos  
**YouTube Data:** All have youtube_url and youtube_id ‚úÖ  
**Category:** "Typing Famous People"  
**Module:** 99 (Supplementary Library)

**Preview:**
1. How To Type: Donald J Trump Edition | CS Joseph
2. How To Type: Elon Musk Edition | CS Joseph
3. How To Type: Alex Jones Edition
4. How To Type Taylor Swift | Taylor Swift MBTI personality type
5. How To Type: Kanye West Edition
... and 59 more!

---

## üêõ CURRENT PROBLEM

**Database has broken Season 20 data:**
- 31 lessons exist but missing youtube_url and youtube_id
- Thumbnails show gray placeholders
- Lesson pages say "Go to Skool to watch"
- But videos ARE on YouTube!

**Fix:** Delete broken data, import clean data!

---

## üìã STEP 1: DELETE BROKEN SEASON 20 DATA

**CRITICAL: Backup first, then delete!**

```sql
-- Backup existing Season 20 (just in case)
CREATE TABLE curriculum_season20_backup AS
SELECT * FROM curriculum WHERE season_id = 20;

-- Delete broken Season 20 lessons
DELETE FROM curriculum WHERE season_id = 20;

-- Verify deletion
SELECT COUNT(*) FROM curriculum WHERE season_id = 20;
-- Should return: 0
```

---

## üìã STEP 2: IMPORT SEASON 20 FROM CSV

**File location:** `/home/claude/season_20_import.csv`

**Import command (PostgreSQL):**

```sql
COPY curriculum (
    module_id, season_id, lesson_id, lesson_number,
    lesson_title, youtube_url, youtube_id, category,
    is_supplementary, document_id, order_index
)
FROM '/home/claude/season_20_import.csv'
DELIMITER ','
CSV HEADER;
```

**OR use Python import:**

```python
import csv
import psycopg2
import os

conn = psycopg2.connect(os.getenv('DATABASE_URL'))
cursor = conn.cursor()

with open('/home/claude/season_20_import.csv', 'r', encoding='utf-8') as f:
    reader = csv.DictReader(f)
    
    for row in reader:
        cursor.execute("""
            INSERT INTO curriculum (
                module_id, season_id, lesson_id, lesson_number,
                lesson_title, youtube_url, youtube_id, category,
                is_supplementary, document_id, order_index
            ) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
        """, (
            row['module_id'], row['season_id'], row['lesson_id'], 
            row['lesson_number'], row['lesson_title'], row['youtube_url'],
            row['youtube_id'], row['category'], row['is_supplementary'],
            row['document_id'] or None, row['order_index']
        ))

conn.commit()
cursor.close()
conn.close()

print("‚úÖ Imported 64 Season 20 lessons!")
```

---

## üìã STEP 3: ADD CATEGORY CARD TO DASHBOARD

**File:** `static/curriculum_dashboard.html`

**Location:** In the Supplementary Library section, add this card:

```html
<!-- Typing Famous People -->
<a href="/category/typing-famous-people" class="category-card">
    <div class="category-icon">‚≠ê</div>
    <h3>Typing Famous People</h3>
    <p class="lesson-count">64 lessons</p>
    <p class="description">Celebrity and public figure type analysis</p>
</a>
```

**Insert after:** The "Analyzing True Crime" card  
**Before:** Closing `</div>` of category-grid

---

## üìã STEP 4: ADD CATEGORY ROUTE MAPPING

**File:** `main.py`

**Find the `category_map` dictionary in the `/category/{category_slug}` route:**

```python
category_map = {
    'cs-joseph-responds': 'CS Joseph Responds',
    'livestream-specials': 'Livestream Specials',
    'public-qa': 'Public Q&A',
    'cs-psychic': 'CS Psychic',
    'analyzing-true-crime': 'Analyzing True Crime',
    # ADD THIS LINE:
    'typing-famous-people': 'Typing Famous People'
}
```

---

## üß™ STEP 5: VERIFY IMPORT

**Run these checks:**

```sql
-- Check Season 20 count
SELECT COUNT(*) FROM curriculum WHERE season_id = 20;
-- Should return: 64

-- Check YouTube data is populated
SELECT lesson_title, youtube_id, youtube_url
FROM curriculum
WHERE season_id = 20
LIMIT 5;
-- All should have youtube_id and youtube_url

-- Check category assignment
SELECT DISTINCT category, is_supplementary
FROM curriculum
WHERE season_id = 20;
-- Should return: "Typing Famous People", 1
```

---

## üß™ STEP 6: TEST IN BROWSER

**After import:**

1. **Go to dashboard**
   - Should see "Typing Famous People" card (64 lessons)

2. **Click "Typing Famous People" card**
   - Should see category page with 64 videos
   - Thumbnails should load from YouTube (not gray!)

3. **Click any video (e.g., "Donald Trump")**
   - Should open lesson page
   - Should show YouTube video player (NOT "Go to Skool")
   - Video should play correctly

4. **Test search**
   - Search "donald trump" ‚Üí Should find lesson
   - Search "typing famous" ‚Üí Should find all 64 lessons

---

## ‚úÖ EXPECTED RESULTS

**Before Fix:**
- ‚ùå 31 broken lessons (no YouTube data)
- ‚ùå Gray placeholder thumbnails
- ‚ùå "Go to Skool" message on lesson pages
- ‚ùå Not in Supplementary Library

**After Fix:**
- ‚úÖ 64 complete lessons with YouTube data
- ‚úÖ Real YouTube thumbnails
- ‚úÖ Embedded video players on lesson pages
- ‚úÖ Shows in Supplementary Library
- ‚úÖ Searchable
- ‚úÖ Fully functional!

---

## üéØ SUPPLEMENTARY LIBRARY (After Import)

**Will have 6 categories:**
1. CS Joseph Responds (100 lessons)
2. Livestream Specials (91 lessons)
3. Public Q&A (34 lessons)
4. CS Psychic (29 lessons)
5. Analyzing True Crime (4 lessons)
6. **Typing Famous People (64 lessons)** ‚Üê NEW!

**Total Supplementary:** 322 lessons  
**Total Platform:** 635 lessons (313 main + 322 supplementary)

---

## üö´ CRITICAL RULES

**DO:**
‚úÖ Backup existing Season 20 before deleting
‚úÖ Import from season_20_import.csv exactly
‚úÖ Add category card to dashboard
‚úÖ Add route mapping
‚úÖ Verify all 64 lessons imported
‚úÖ Test thumbnails and video players

**DO NOT:**
‚ùå Manually edit CSV (it's perfect as-is)
‚ùå Skip the backup step
‚ùå Import without deleting old data first
‚ùå Change lesson_id values (they're sequential)
‚ùå Modify YouTube URLs or IDs

---

## ‚úÖ DEFINITION OF DONE

Season 20 import is complete when:

1. ‚úÖ Database has 64 Season 20 lessons
2. ‚úÖ All lessons have youtube_url and youtube_id
3. ‚úÖ Dashboard shows "Typing Famous People" card
4. ‚úÖ Category page shows 64 videos with thumbnails
5. ‚úÖ Clicking video opens lesson page with player
6. ‚úÖ Search finds Season 20 lessons
7. ‚úÖ No broken thumbnails or "Go to Skool" messages

---

**FOLLOW THIS SPEC EXACTLY. CSV IS READY. JUST IMPORT IT!**