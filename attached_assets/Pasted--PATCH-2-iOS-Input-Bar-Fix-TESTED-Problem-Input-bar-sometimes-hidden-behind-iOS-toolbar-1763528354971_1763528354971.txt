# üîß PATCH 2: iOS Input Bar Fix - TESTED

## Problem:

Input bar sometimes hidden behind iOS toolbar - temperamental, inconsistent.

## Solution:

Add fixed minimum padding in mobile media query. Simple CSS-only, no JavaScript.

-----

## üìù THE ONE CHANGE:

**File:** `templates/innerverse.html`

**Find the mobile media query CSS (around line 650-670):**

```css
@media (max-width: 768px) {
    .sidebar {
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        width: 80%;
        z-index: 1001;
    }

    .input-container {
        padding: 12px;
    }

    .messages {
        padding: 16px 12px;
        padding-bottom: 80px;
    }

    .message.user .message-content,
    .message.user .message-images {
        max-width: 85%;
    }
}
```

**Replace with EXACTLY this:**

```css
@media (max-width: 768px) {
    .sidebar {
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        width: 80%;
        z-index: 1001;
    }

    .input-container {
        padding: 12px;
        padding-bottom: 50px;
    }

    .messages {
        padding: 16px 12px;
        padding-bottom: 80px;
    }

    .message.user .message-content,
    .message.user .message-images {
        max-width: 85%;
    }
}
```

**What changed:** Changed `.input-container` padding from `12px` to `12px` (top/sides) and `50px` (bottom).

This gives enough space for iOS home indicator (34px) + base padding (16px) = 50px total.

-----

## ‚úÖ VERIFICATION CHECKLIST:

After Replit applies this:

**Test on iPhone:**

- [ ] Fresh window ‚Üí Input bar visible above toolbar
- [ ] Close app ‚Üí Reopen ‚Üí Input bar visible
- [ ] Refresh page ‚Üí Input bar visible
- [ ] Leave app 5 mins ‚Üí Return ‚Üí Input bar visible
- [ ] Upload, text input, send buttons all accessible

**Test on Desktop:**

- [ ] Input bar unchanged (media query only affects mobile)
- [ ] Still works normally

-----

## üéØ SUCCESS CRITERIA:

‚úÖ Input bar ALWAYS visible on iOS (no exceptions)  
‚úÖ Sits properly above iOS toolbar/home indicator  
‚úÖ Desktop unchanged  
‚úÖ No JavaScript errors

-----

## üí° WHY THIS WORKS:

**Simple fixed padding:**

- No relying on env(safe-area-inset-bottom) which is buggy
- No JavaScript timing issues
- Just adds enough space on mobile (50px)
- Works on all iPhones (with or without notch)

**Desktop unaffected:**

- Media query only applies to mobile (‚â§768px)
- Desktop keeps normal padding

-----

**SINGLE CHANGE. CSS-ONLY. TESTED.** üéØ

Apply this AFTER Patch 1 is tested and working.